import{g as t,d as a,c as o}from"./branches-D5BKXuc4.js";async function r(e){const n={id:t(),branchId:e.branchId,role:e.role,content:e.content,parentId:e.parentId||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await a.messages.add(n),n}chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0});chrome.runtime.onMessage.addListener((e,n,d)=>(e.type==="FORK_BRANCH"&&c(e.payload),!0));async function c(e){console.log("Forking at:",e.content);const n=await o({label:`Fork: ${e.content.slice(0,20)}...`});await r({branchId:n.id,role:"system",content:"Forked from main thread"}),console.log("Created branch:",n.id)}
